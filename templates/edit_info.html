{% extends "base.html" %} {% block title %}Edit Profile{% endblock %} {% block
content %}
<div class="container d-flex justify-content-center">
  <div class="row gutters w-100">
    <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body">
          <div class="account-settings">
            <div class="user-profile">
              <div class="user-avatar">
                {% if current_user.profile and
                current_user.profile.profile_picture %}
                <img
                  src="{{ url_for('static', filename=current_user.profile.profile_picture.replace('\\','/')[7:]) }}"
                  alt="Profile Picture"
                />
                {% else %}
                <img
                  src="{{ url_for('static', filename='default_profile.png') }}"
                  alt="Default Profile Picture"
                />
                {% endif %}
              </div>
              <h5 class="user-name">
                {{ current_user.first_name }} {{ current_user.last_name }}
              </h5>
              <h6 class="user-email">{{ current_user.email }}</h6>
            </div>
            <div class="about">
              <h5>About</h5>
              <p>{{ current_user.profile.bio or 'No bio set' }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body">
          <form
            method="POST"
            action="{{ url_for('profile.update_profile') }}"
            enctype="multipart/form-data"
          >
            {{ form.hidden_tag() }}
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h6 class="mb-2 text-primary">Personal Details</h6>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.first_name.label }} {{
                  form.first_name(class="form-control") }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.last_name.label }} {{
                  form.last_name(class="form-control") }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.email.label }} {{ form.email(class="form-control") }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.phone.label }} {{ form.phone(class="form-control") }}
                </div>
              </div>
            </div>
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h6 class="mt-3 mb-2 text-primary">Address</h6>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.street.label }} {{ form.street(class="form-control")
                  }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.city.label }} {{ form.city(class="form-control") }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.state.label }} {{ form.state(class="form-control") }}
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  {{ form.zip_code.label }} {{
                  form.zip_code(class="form-control") }}
                </div>
              </div>
            </div>
            <div class="row gutters">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="text-right">
                  <a
                    href="{{ url_for('main.user_home') }}"
                    class="btn btn-secondary"
                    >Cancel</a
                  >
                  {{ form.submit(class="btn btn-primary") }}
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
